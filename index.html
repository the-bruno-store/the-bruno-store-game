<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>The Bruno Store Game</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
  </head>
  <body>
    <div class="container">
      <div class="row">
        <div class="col-9 col-md-8">
          <div class="card" style="">
            <div class="card-body">
              <h5 class="card-title">People</h5>
              <h6 class="card-subtitle mb-2 text-body-secondary">Where impatient people wait.</h6>
              <div id="the-line"></div>
            </div>
          </div>
        </div>
        <div class="col-9 col-md-8">
          <div class="card" style="">
            <div class="card-body">
              <h5 class="card-title">Lead</h5>
              <h6 class="card-subtitle mb-2 text-body-secondary">Your stock of lead.</h6>
              <div id="lead"></div>
            </div>
          </div>
        </div>
        <div class="col-3 col-md-4">
        
        </div>
      </div>
    </div>
    <script>
      // Line settings
      var line = document.getElementById("the-line")
      var addPersonTick = 2
      var lineCount = 0
      var lineMax = 5
      var personId = 0
      var lastPersonId = 1
      // Ticks and money
      var ticks = 0
      var money = 0
      // Lead settings
      var lead = document.getElementById("lead")
      var leadTick = 1
      var leadCount = 0
      var leadMax = 5
      function lead() {
        document.getElementById("person" + lastPersonId).outerHTML = ""
        lastPersonId += 1
        money += 1
      }
      // Ticker
      setInterval(function () {
        ticks += 1
        if ((ticks % addPersonTick == 0) && (lineCount < lineMax)) {
          lineCount += 1
          personId += 1
          if (Math.random() > 0.1) {
            line.innerHTML += "<img src='regular-person.png' height='100' class='m-2' id='person" + personId + "'>"
          } else {
            line.innerHTML += "<img src='angry-person.gif' height='100' class='m-2' id='person" + personId + "'>"
          }
        }
        if ((ticks % leadTick == 0) && (leadCount < leadMax)) {
          leadCount += 1
          lead.innerHTML += "<img src='lead.png' height='100' class='m-2' onclick='lead()'>"
        }
      }, 1000)
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe" crossorigin="anonymous"></script>
  </body>
</html>
